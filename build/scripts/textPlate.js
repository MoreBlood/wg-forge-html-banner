function newTextPlate(t,e,a,i,r,h,s){this.draw=drawTextPlate,this.show=showText,this.hide=hideText,this.showTextPlate=showTextPlate,this.hideTextPlate=hideTextPlate,this.set=setText,this.textArray=new Array,this.animText=new Array,this.textAlign="center",t=void 0!==t?t:0,e=void 0!==e?e:0,a=void 0!==a?a:1,i=void 0!==i?i:250,r=void 0!==r?r:1,h=void 0!==h?h:w,s=void 0!==s?s:200,this.x=t,this.y=e,this.sy=e,this.sx=t,this.scale=a,this.maxWidth=i,this.alpha=r,this.width=h,this.height=s,this.ang=0}function drawTextPlate(t){this.ang+=.06,t.save(),t.translate(this.x,this.y),this.bg&&(t.globalAlpha=this.bgAlpha,t.drawImage(this.bg,-this.bg.width/2,-this.bg.height/2),t.globalAlpha=1),t.scale(this.scale,this.scale),t.fillStyle="#ffffff",t.textBaseline="middle",t.textAlign=this.textAlign,t.shadowColor="rgba(0,0,0,0.5)",t.shadowBlur=4,t.shadowOffsetY=1;for(var e=0;e<this.animText.length;e++){t.fillStyle="rgba("+this.animText[e].color+", "+trueAlpha(this.animText[e].alpha)+")",t.font=this.animText[e].font;var a=1;t.measureText(this.animText[e].text.replace("$","").replace("%","")).width>this.animText[e].maxWidth&&(a=this.animText[e].maxWidth/t.measureText(this.animText[e].text.replace("$","").replace("%","")).width),t.save(),t.translate(0,this.animText[e].y),t.scale(a,a),t.fillText(this.animText[e].text,this.animText[e].x,0),t.shadowColor="transparent",t.restore()}t.restore()}function setText(t){var e=this;e.animText=new Array;for(var a=new Array,i=t.startIndex;i<t.length+t.startIndex;i++)a.push(i);for(i=0;i<a.length;i++)e.textArray[a[i]].alpha=1,e.textArray[a[i]].x=e.textArray[a[i]].sx,e.animText.push(e.textArray[a[i]])}function showText(t,e){for(var a=this,i=0;i<a.animText.length;i++)TweenLite.killTweensOf(a.animText[i]),TweenLite.to(a.animText[i],.1,{delay:(a.animText.length-i)/8,x:a.animText[i].sx-60,alpha:0,ease:Circ.easeIn});TweenLite.delayedCall(a.animText.length/8+.2,function(){a.animText.splice(0,a.animText.length),a.animText=new Array,textArray=new Array;for(var i=t.startIndex;i<t.length+t.startIndex;i++)textArray.push(i);for(i=0;i<textArray.length;i++)a.textArray[textArray[i]].alpha=0,a.textArray[textArray[i]].x=a.textArray[textArray[i]].sx+100,TweenLite.to(a.textArray[textArray[i]],.2,{delay:i/8,x:a.textArray[textArray[i]].sx,alpha:1,ease:Circ.easeOut}),e&&TweenLite.to(a.textArray[textArray[i]],.1,{delay:(textArray.length-i)/8+e,x:a.textArray[textArray[i]].sx-60,alpha:0,ease:Circ.easeIn}),a.animText.push(a.textArray[textArray[i]])})}function hideText(){for(var t=0;t<this.animText.length;t++)TweenLite.killTweensOf(this.animText[t]),TweenLite.to(this.animText[t],.1,{delay:(this.animText.length-t)/8,x:this.animText[t].sx-60,alpha:0,ease:Circ.easeIn})}function stringFrame(t,e,a,i){i=void 0!==i?i:28,this.textArray=e,this.textHeight=i,this.startIndex=t.textArray.length,this.length=e.length,this.maxWidth=t.maxWidth;for(var r=0;r<this.textArray.length;r++){var h={sx:0};h.sy=-this.textHeight*(this.textArray.length-1)/2+this.textHeight*r,h.x=h.sx,h.y=h.sy,h.alpha=1,h.font=a,h.text=this.textArray[r],h.maxWidth=t.maxWidth,h.color=t.color,t.textArray.push(h)}}function showTextPlate(){TweenLite.to(this,.2,{y:this.sy,ease:Sine.easeOut})}function hideTextPlate(){TweenLite.to(this,.2,{y:h+this.height+timerImg.height+6,ease:Sine.easeOut})}function drawTextPlateElemets(t){if(!t.bg){(e=document.createElement("CANVAS")).width=w,e.height=t.height;var e,a,i=e.getContext("2d");iPattern=i.createPattern(Pattern.pic,"repeat"),i.fillStyle=iPattern,i.fillRect(0,0,w,t.height),i.globalCompositeOperation="source-in",(a=i.createRadialGradient(w/2+30,-30,26,w/2+30,-30,250)).addColorStop(0,"rgba(0, 0, 0, 0)"),a.addColorStop(1,"rgba(0, 0, 0, 0.8)"),i.fillStyle=a,i.fillRect(0,0,w,t.height),t.pattern=e,(e=document.createElement("CANVAS")).width=w,e.height=t.height,(a=(i=e.getContext("2d")).createRadialGradient(w/2+30,-30,26,w/2+30,-30,250)).addColorStop(0,"rgba(0, 159, 255, 0.75)"),a.addColorStop(1,"rgba(0, 159, 255, 0.75)"),i.fillStyle=a,i.fillRect(0,0,w,t.height);var r=i.createLinearGradient(0,0,w,0);r.addColorStop(0,"rgba(123, 200, 211, 0.2)"),r.addColorStop(.6,"rgba(123, 200, 211, 0.9)"),r.addColorStop(.9,"rgba(123, 200, 211, 1)"),r.addColorStop(1,"rgba(123, 200, 211, 0.4)"),i.strokeStyle=r,i.moveTo(0,0),i.lineTo(w,0),i.lineWidth=2,i.stroke(),t.bg=e}}