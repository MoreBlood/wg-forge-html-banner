!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tracks:{first:"./assets/tracks/first_track-min.png",last:"./assets/tracks/last_track-min.png",middle:"./assets/tracks/middle_track-min.png",trackPart:"./assets/tracks/track_part-min.png"},shots:{first:{tank:"./assets/1st_shot/tank-min.png",tankGun:"./assets/1st_shot/tank_gun-min.png",tankLight:"./assets/1st_shot/tank_light-min.jpg",backgroud:"./assets/1st_shot/bg-min.jpg",hill:"./assets/1st_shot/hill-min.png",smoke:"./assets/1st_shot/smoke-min.png",smokeBlack:"./assets/1st_shot/smoke_black-min.png",treeLeft:"./assets/1st_shot/tree_left-min.png",treeRight:"./assets/1st_shot/tree_right-min.png",wotLogo:"./assets/1st_shot/wot_logo-min.png",shellCountour:"./assets/1st_shot/shell_countour-min.png",shellFill:"./assets/1st_shot/shell_fill-min.png",pointer:"./assets/1st_shot/pointer-min.png",directionPointer:"./assets/1st_shot/direction_pointer-min.png",explosion:{end:"./assets/1st_shot/explosion/explosion_end-min.png",smoke:"./assets/1st_shot/explosion/shot_smoke-min.png",middle:"./assets/1st_shot/explosion/explosion_middle-min.png",start:"./assets/1st_shot/explosion/explosion_start-min.png",hillLight:"./assets/1st_shot/explosion/hill_light-min.jpg",sparks:"./assets/1st_shot/explosion/sparks-min.jpg",trail:"./assets/1st_shot/explosion/trail-min.png"}},pack:{tank:"./assets/pack_shot/tank_packshot-min.png",tankLight:"./assets/pack_shot/tank_packshot_light-min.png",playButton:"./assets/pack_shot/Button-min.jpg",greeting:"./assets/pack_shot/23-min.png",track:"./assets/pack_shot/track-min.png"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fireworks=t.banner=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(18)),r=c(n(11)),o=c(n(0)),s=c(n(6)),l=n(2),h=c(n(4)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.enableMouseOver(20),createjs.Ticker.framerate=60,createjs.Ticker.addEventListener("tick",n),n.cursor="pointer",setInterval(function(){},1e3),n}return d(t,createjs.Stage),a(t,[{key:"load",value:function(){this.mainShot=new i.default,this.addChild(this.mainShot),this.restart()}},{key:"restart",value:function(){this.addShellAndText(),this.mainShot.show(),this.addLogo(),this.bindPromise()}},{key:"addLogo",value:function(){this.wotLogo=this.wotLogo||new createjs.Bitmap(this.images[o.default.shots.first.wotLogo]),this.wotLogo.y=0,this.wotLogo.x=60,this.addChild(this.wotLogo)}},{key:"addShellAndText",value:function(){var e=this;this.enjoy=this.enjoy||new h.default,this.addChild(this.enjoy),this.shell=this.shell||new s.default,this.addChild(this.shell),this.shell.restart(),this.on("mouseover",function(t){return e.shell.hideCursor(t.rawX,t.rawY)}),this.on("mouseout",function(){return e.shell.showCursor()}),this.putInPlaceShellAndText()}},{key:"putInPlaceShellAndText",value:function(){this.shell.x=290,this.shell.y=179,this.enjoy.y=210,this.enjoy.x=92}},{key:"hideShellAndText",value:function(){TweenMax.to(this.shell,1,{delay:.5,y:this.shell.y+200}),TweenMax.to(this.enjoy,1,{delay:.5,y:this.enjoy.y+200})}},{key:"toPackShot",value:function(){var e=this;this.packShot=new r.default,this.packShot.blacked.alpha=0,this.addChild(this.packShot),this.setChildIndex(this.packShot,this.numChildren-2),this.packShot.scaleX=3,this.packShot.scaleY=3,this.packShot.alpha=0,this.packShot.regX=168,this.packShot.regY=140,this.packShot.x=168,this.packShot.y=140,TweenMax.to(this.packShot,1.5,{scaleX:1,scaleY:1,alpha:1,ease:Power3.easeInOut}),TweenMax.delayedCall(1.5,function(){return e.putInPlaceShellAndText()})}},{key:"bindPromise",value:function(){var e=this;this.shell.filled().then(function(){e.mainShot.shoot(),e.hideShellAndText()})}}]),t}(),g=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return createjs.Ticker.addEventListener("tick",n),n.fireworks=new u.default,n.addChild(n.fireworks),n.autoClear=!1,n.canvas.width=1e3,n.canvas.height=1e3,n}return d(t,createjs.Stage),t}(),w=t.banner=new y("ad");t.fireworks=new g(document.createElement("canvas"));window.start=function(){window.w=w.canvas.width,w.load()},window.getMousePos=function(e){var t=w.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},(0,l.preload)().then(function(e){w.images={};for(var t=0;t<e.length;t+=1)w.images[e[t].url]=e[t].image;loadFonts()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preload=t.calculateDistance=t.random=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.random=function(e,t){return Math.random()*(t-e)+e},t.calculateDistance=function(e,t,n,a){var i=e-n,r=t-a;return Math.sqrt(i*i+r*r)};var r=function(e){return Promise.all(e.map(function(e){return function(e){return new Promise(function(t,n){var a=new Image;a.src=e,a.onload=function(){return t({image:a,url:e})},a.onerror=function(){return n()}})}(e)}))};t.preload=function(){var e=function(e){var t=[];return function e(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("string"==typeof n[i]?t.push(n[i]):"object"===a(n[i])&&e(n[i]))}(e),t}(i.default);return r(e)};window.trueAlpha=function(e){return e>1?1:e<0?0:Math.round(100*e)/100}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(2),r=n(1);var o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=new createjs.Bitmap(r.banner.images[n?a.default.shots.first.smokeBlack:a.default.shots.first.smoke]);s.regY=75,s.regX=228,s.scaleX=.1,s.scaleY=.1,s.alpha=0;var l=Array.from(Array(10)).map(function(){return s.clone()});o.timeline=new TimelineMax({repeat:-1}).timeScale(e);for(var h=0;h<l.length;h+=1){o.addChild(l[h]);var u=(0,i.random)(1,1.3);o.timeline.add(TweenMax.to(l[h],3,{x:s.x-(0,i.random)(10,100),y:s.y-(0,i.random)(10,15),scaleX:u,scaleY:u}),.4*h);var c=TweenMax.to(l[h],.5,{alpha:1}),f=TweenMax.to(l[h],2.5,{alpha:0});o.timeline.add([c,f],.4*h,"sequence")}return o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0};var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.textPlate=new newTextPlate,e.textPlate.frame1=new stringFrame(e.textPlate,["ЗАРЯДИСЬ","НАСТРОЕНИЕМ!"],"bold 16pt "+window.font,24),e.textPlate.textAlign="right",e.textPlate.scale=1.3,e.textPlate.x=180,e.textPlate.y=30,e.showText(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"showText",value:function(){this.textPlate.set(this.textPlate.frame1)}},{key:"isVisible",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isVisible",this).call(this),!0}},{key:"draw",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e),this.textPlate.draw(e)}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},r=n(2),o=s(n(13));s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hueMin:0,hueMax:360,clearAlpha:12,rocketSpeed:.4,rocketAccel:10,lineWidth:1,partCount:250,hueVariance:30};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.fireworks=[],n.particles=[],n.tickEnabled=!0,n.clearAlpha=e.clearAlpha,n.hueMin=e.hueMin,n.hueMax=e.hueMax,n.rocketSpeed=e.rocketSpeed,n.rocketAccel=e.rocketAccel,n.lineWidth=e.lineWidth,n.partCount=e.partCount,n.currentHue=0,n.hueVariance=e.hueVariance,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"isVisible",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isVisible",this).call(this),!0}},{key:"draw",value:function(e){var n=this;e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, "+this.clearAlpha/100+")",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e);for(var a=0;a<this.fireworks.length;a+=1){this.fireworks[a].draw(e);var r=this.fireworks[a].update(e);r&&(this.particles=this.particles.concat(r),this.fireworks.splice(a,1))}this.particles.forEach(function(t,a){t.draw(e),t.update(e)&&n.particles.splice(a,1)})}},{key:"createFirework",value:function(e,t,n,a,i){this.currentHue=i;var s=new o.default({x:e,y:t,startX:e,startY:t,hitX:!1,hitY:!1,coordLast:[{x:e,y:t},{x:e,y:t},{x:e,y:t}],targetX:n,targetY:a,speed:this.rocketSpeed,angle:Math.atan2(a-t,n-e),shockwaveAngle:Math.atan2(a-t,n-e)+Math.PI/180*90,acceleration:this.rocketAccel/100,hue:this.currentHue,brightness:(0,r.random)(50,80),alpha:(0,r.random)(50,100)/100,lineWidth:this.lineWidth,partCount:this.partCount,hueVariance:this.hueVariance,partSpeed:1,partSpeedVariance:6,partWind:50,partFriction:9,partGravity:.3});this.fireworks.push(s)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(2),o=n(1);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.shellCountour=new createjs.Bitmap(o.banner.images[i.default.shots.first.shellCountour]),e.shellFill=new createjs.Bitmap(o.banner.images[i.default.shots.first.shellFill]),e.directionPointer=new createjs.Bitmap(o.banner.images[i.default.shots.first.directionPointer]),e.pointer=new createjs.Bitmap(o.banner.images[i.default.shots.first.pointer]),e.shellFill.scaleX=0,e.shellFill.scaleY=0,e.shellFill.alpha=0,e.shellFill.y=200;var n=e.shellFill.getBounds();e.shellFill.regX=n.width/2,e.shellFill.regY=n.height/2,e.directionPointer.y=200;var a=e.directionPointer.getBounds();e.directionPointer.regX=a.width/2,e.directionPointer.regY=a.height+50,e.directionPointer.shadow=new createjs.Shadow("#a2ff00",0,0,5),e.shellCountour.y=-17;var s=new createjs.Shadow("rgba(255, 0, 0, 1)",0,0,15);e.shellCountour.shadow=s,TweenMax.to(s,1.5,{color:"rgba(255, 0, 0, 0.0)",repeat:-1,yoyo:!0,ease:Power3.easeInOut}),TweenMax.to(e.shellCountour,1.5,{alpha:.5,repeat:-1,yoyo:!0,ease:Power3.easeInOut}),e.pointer.x=-25,e.pointer.y=-10,e.pointer.alpha=0,e.showCursor(),TweenMax.to(e.pointer,1.5,{x:-90,repeat:-1,yoyo:!0,ease:Power3.easeInOut}),e.isFilled=!1;var l=[],h=["stagemousemove","mouseenter","mouseover","mouseleave"];return e.filled=function(){return new Promise(function(t){l.forEach(function(t,n){e.stage.removeEventListener(h[n],t)}),(l=[]).push(e.stage.on("stagemousemove",function(n){if(!e.isFilled){var a=e.globalToLocal(n.stageX,n.stageY),i=e.shellCountour.x+e.shellCountour.getBounds().width/2,o=e.shellCountour.y+e.shellCountour.getBounds().height,s=Math.atan2(o-a.y,i-a.x)*(180/Math.PI)+90,l=(0,r.calculateDistance)(e.shellCountour.x,e.shellCountour.y+50,a.x,a.y),h=Math.min(l/200,1);if(l<30)return e.getCloseToTarget(),void t();TweenMax.to(e.shellFill,.5,{x:a.x,y:a.y}),TweenMax.to(e.directionPointer,.5,{x:a.x,y:a.y,alpha:h,scaleX:h,scaleY:h,rotation:s})}})),l.push(e.stage.on("mouseenter",function(){return e.showShell()})),l.push(e.stage.on("mouseover",function(){return e.showShell()})),l.push(e.stage.on("mouseleave",function(){return e.hideShell()}))})},e.addChild(e.shellFill),e.addChild(e.shellCountour),e.addChild(e.pointer),e.addChild(e.directionPointer),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"hideShell",value:function(){this.shellFill.shadow=null,this.isFilled||(TweenMax.to(this.shellFill,.3,{scaleX:.5,scaleY:.5,alpha:0,ease:Power3.easeIn}),TweenMax.to(this.directionPointer,.3,{scaleX:.5,scaleY:.5,alpha:0,ease:Power3.easeIn,delay:.01}))}},{key:"showShell",value:function(){this.shellFill.shadow=new createjs.Shadow("#a2ff00",0,0,5),TweenMax.to(this.shellFill,1,{scaleX:1,scaleY:1,alpha:1,ease:Elastic.easeOut})}},{key:"hideCursor",value:function(){TweenMax.to(this.pointer,.2,{alpha:0,ease:Power1.easeInOut})}},{key:"showCursor",value:function(){TweenMax.to(this.pointer,.5,{alpha:1,ease:Power1.easeInOut})}},{key:"getCloseToTarget",value:function(){this.isFilled=!0,TweenMax.killTweensOf(this.shellFill,{x:!0,y:!0}),TweenMax.to(this.shellFill,.5,{x:11,y:37,alpha:1,scaleX:1,scaleY:1}),TweenMax.to(this.shellCountour,.5,{alpha:0}),TweenMax.to(this.directionPointer,.5,{alpha:0})}},{key:"restart",value:function(){this.pointer.alpha=1,this.isFilled=!1,this.shellCountour.alpha=1,this.shellFill.y=200}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(4));var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.textPlate.frame1=new stringFrame(e.textPlate,["НАСЛАЖДАЙСЯ ПРАЗДНИКОМ!"],"bold 16pt "+window.font,24),e.textPlate.scale=1.2,e.textPlate.x=window.w/2-30,e.textPlate.y=0,e.textPlate.textAlign="center",e.showText(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(1);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.button=Button,e.button.pic=o.banner.images[r.default.shots.pack.playButton],e.button.x=168,e.button.y=249,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"isVisible",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isVisible",this).call(this),!0}},{key:"draw",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e),drawButton(e)}}],[{key:"showButton",value:function(){window.showButton()}},{key:"hideButton",value:function(){window.hideButton()}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.tweens=[];for(var n=0;n<10;n+=1){var a=new createjs.Bitmap(r.banner.images[i.default.shots.pack.track]);a.scaleY=.5,a.regX=10,a.regY=10,e.addChild(a);var o=new TimelineMax({repeat:-1});o.to(a,3,{ease:Power1.easeInOut,reversed:!1,bezier:{type:"quadratic",timeResolution:100,values:[{x:0,y:-20},{x:-5,y:-5},{x:4,y:17},{x:8,y:28},{x:20,y:38}]}}).to(a,1.5,{ease:Linear.easeNone,scaleY:1},0).to(a,1.5,{ease:Linear.easeNone,scaleY:0,delay:1.5},0),o.time(.3*n),e.tweens.push(o)}return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"stop",value:function(){this.tweens.forEach(function(e,t){e.paused(!0)})}},{key:"start",value:function(){this.startReverse(),this.tweens.forEach(function(e,t){e.play(.5*t)})}}]),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(0)),r=s(n(9)),o=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timeline=new TimelineMax,e.setupTank(),e.setupTankLight(),e.setupMovingParts(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"setupMovingParts",value:function(){this.rightTrack=new r.default;var e=new createjs.Shape;this.trigger=new createjs.Shape,e.graphics.beginFill("#000000").drawRect(120,123,40,100),this.rightTrack.mask=e,this.rightTrack.x=130,this.rightTrack.y=130,this.leftTrack=new r.default;var t=new createjs.Shape;this.trigger=new createjs.Shape,t.graphics.beginFill("#000000").drawRect(-10,128,40,100),this.leftTrack.mask=t,this.leftTrack.x=10,this.leftTrack.y=130,this.leftTrack.scaleY=.8,this.leftTrack.scaleX=.75,this.addChild(this.rightTrack),this.addChild(this.leftTrack)}},{key:"stopAnimation",value:function(){this.timeline.paused=!0,this.leftTrack.stop(),this.rightTrack.stop()}},{key:"setupTank",value:function(){this.tank=new createjs.Bitmap(o.banner.images[i.default.shots.pack.tank]),this.addChild(this.tank)}},{key:"setupTankLight",value:function(){this.tankLight=new createjs.Bitmap(o.banner.images[i.default.shots.pack.tankLight]),this.tankLight.x=90,this.tankLight.alpha=.75,this.tankLight.compositeOperation="lighten",this.addChild(this.tankLight)}},{key:"blink",value:function(e){var t=(new createjs.ColorMatrix).adjustHue(e%180);this.tankLight.filters=[new createjs.ColorMatrixFilter(t)],this.tankLight.cache(0,0,262,202),(new TimelineMax).to(this.tankLight,.1,{alpha:.5}).to(this.tankLight,.3,{alpha:0})}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(10)),r=c(n(0)),o=c(n(3)),s=n(2),l=c(n(8)),h=n(1),u=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timeline=new TimelineMax({loop:!0,bounce:!0}),e.setupScene(),e.setupButton(),e.setupText(),e.addBlacked(),e.expodeFireworks(15),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"addBlacked",value:function(){this.blacked=new createjs.Shape,this.blacked.graphics.beginFill("black").drawRect(-300,-300,1e3,1e3),this.blacked.alpha=0,this.addChild(this.blacked)}},{key:"hide",value:function(){var e=this;return TweenMax.to(this.blacked,1,{alpha:1,onComplete:function(){e.alpha=0,l.default.hideButton()}})}},{key:"setupScene",value:function(){var e=this;this.hill=new createjs.Bitmap(h.banner.images[r.default.shots.first.hill]),this.treeLeft=new createjs.Bitmap(h.banner.images[r.default.shots.first.treeLeft]),this.treeRight=new createjs.Bitmap(h.banner.images[r.default.shots.first.treeRight]),this.firework=h.fireworks.fireworks,this.background=new createjs.Bitmap(r.default.shots.first.backgroud),this.background.x=-120,this.background.y=-120,this.addChild(this.background),this.fireworksCanvas=new createjs.Bitmap(h.fireworks.canvas),this.fireworksCanvas.x=0,this.fireworksCanvas.y=-60,this.addChild(this.fireworksCanvas);var t=new o.default(.2);t.y=250,t.x=300,t.scaleX=2.5,t.scaleY=2.5,t.alpha=1,this.addChild(t),this.tank=new i.default,this.addChild(this.tank),this.tank.y=75,this.tank.x=90,this.tank.scale=.9,this.tank.rotation=-.5;var n=TweenMax.to(this.tank,2,{y:this.tank.y-25,x:this.tank.x-55,scale:1,delay:1,onComplete:function(){return e.tank.stopAnimation()},ease:Power1.easeInOut});this.tank.timeline.add(n,0);var a=new o.default(.5);a.y=220,a.x=230,a.scale=1.3,this.addChild(a);var s=new o.default(.2);s.y=250,s.x=330,s.scaleX=2,s.scaleY=2,s.alpha=.5,this.addChild(s),this.addChild(this.hill),this.hill.y=150,this.hill.x=-100,this.addChild(this.treeLeft),this.treeLeft.y=250,this.addChild(this.treeRight),this.treeRight.y=230,this.treeRight.x=100}},{key:"expodeFireworks",value:function(e){for(var t=this,n=0;n<e;n+=1)setTimeout(function(){var e=(0,s.random)(0,360);t.firework.createFirework((0,s.random)(150,160),(0,s.random)(200,300),(0,s.random)(50,250),(0,s.random)(80,160),e),t.tank.blink(e)},300+500*n+(0,s.random)(0,250))}},{key:"setupButton",value:function(){this.button=new l.default,this.addChild(this.button)}},{key:"setupText",value:function(){this.greeting=new createjs.Bitmap(h.banner.images[r.default.shots.pack.greeting]),this.enjoy=new u.default,this.greeting.x=168,this.greeting.regX=126.5,this.greeting.regY=37.5,this.greeting.y=181,this.greeting.alpha=0,this.greeting.scaleX=2,this.greeting.scaleY=2,this.greeting.shadow=new createjs.Shadow("black",0,0,10),this.enjoy.x=168,this.enjoy.regX=139,this.enjoy.y=207,this.enjoy.regY=12.5,this.enjoy.alpha=0,this.enjoy.scaleX=2,this.enjoy.scaleY=2,this.addChild(this.greeting),this.addChild(this.enjoy);var e=TweenMax.to(this.greeting,.5,{paused:!1,alpha:1,scaleX:1,scaleY:1,delay:2,ease:Power3.easeOut}),t=new TimelineMax;TweenMax.delayedCall(2,function(){return l.default.showButton()}),t.to(this.enjoy,.5,{alpha:1,scaleX:1,scaleY:1,delay:1.5,ease:Power3.easeOut}).add(e).to(this.enjoy,.5,{alpha:0,scaleX:0,scaleY:0,ease:Power3.easeOut},"-=0.5")}},{key:"shoot",value:function(){this.tank.stopAnimation()}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2);var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,hue:0,partSpeed:1,partSpeedVariance:6,partWind:50,partFriction:9,partGravity:.3,hueVariance:30,lineWidth:1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.coordLast=[{x:this.x,y:this.y},{x:this.x,y:this.y},{x:this.x,y:this.y}],this.angle=(0,i.random)(0,360),this.speed=(0,i.random)(t.partSpeed-t.partSpeedVariance<=0?1:t.partSpeed-t.partSpeedVariance,t.partSpeed+t.partSpeedVariance),this.friction=1-t.partFriction/100,this.gravity=t.partGravity/2,this.hue=(0,i.random)(t.hue-t.hueVariance,t.hue+t.hueVariance),this.brightness=(0,i.random)(50,80),this.alpha=(0,i.random)(40,100)/100,this.decay=(0,i.random)(10,50)/1e3,this.wind=((0,i.random)(0,t.partWind)-t.partWind/2)/25,this.lineWidth=t.lineWidth,this.flickerDensity=25}return a(e,[{key:"update",value:function(){var e=this.angle*(Math.PI/180),t=Math.cos(e)*this.speed,n=Math.sin(e)*this.speed;return this.speed*=this.friction,this.coordLast[2].x=this.coordLast[1].x,this.coordLast[2].y=this.coordLast[1].y,this.coordLast[1].x=this.coordLast[0].x,this.coordLast[1].y=this.coordLast[0].y,this.coordLast[0].x=this.x,this.coordLast[0].y=this.y,this.x+=t,this.y+=n,this.y+=this.gravity,this.angle+=this.wind,this.alpha-=this.decay,this.alpha<.05}},{key:"draw",value:function(e){var t=Math.round((0,i.random)(1,3)-1);if(e.beginPath(),e.moveTo(Math.round(this.coordLast[t].x),Math.round(this.coordLast[t].y)),e.lineTo(Math.round(this.x),Math.round(this.y)),e.closePath(),e.strokeStyle="hsla("+this.hue+", 100%, "+this.brightness+"%, "+this.alpha+")",e.stroke(),this.flickerDensity>0){var n=50-this.flickerDensity;if(Math.round((0,i.random)(0,n))===n){e.beginPath(),e.arc(Math.round(this.x),Math.round(this.y),(0,i.random)(this.lineWidth,this.lineWidth+3)/2,0,2*Math.PI,!1),e.closePath();var a=(0,i.random)(50,100)/100;e.fillStyle="hsla("+this.hue+", 100%, "+this.brightness+"%, "+a+")",e.fill()}}}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(n(12));var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,startX:0,startY:0,hitX:!1,hitY:!1,coordLast:[{x:0,y:0},{x:0,y:0},{x:0,y:0}],targetX:0,targetY:0,speed:0,angle:0,shockwaveAngle:0,acceleration:1,hue:0,alpha:.5,lineWidth:1,partSpeed:1,partSpeedVariance:6,partWind:50,partFriction:9,partGravity:.3},n=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.partCount=t.partCount,this.startX=t.startX,this.startY=t.startY,this.hitX=t.hitX,this.hitY=t.hitY,this.coordLast=t.coordLast,this.targetX=t.targetX,this.targetY=t.targetY,this.speed=t.speed,this.angle=Math.atan2(t.targetY-t.startY,t.targetX-t.startX),this.shockwaveAngle=Math.atan2(t.targetY-t.startY,t.targetX-t.startX)+Math.PI/180*90,this.hue=t.hue,this.brightness=(0,i.random)(50,80),this.alpha=(0,i.random)(50,100)/100,this.lineWidth=t.lineWidth,this.acceleration=t.acceleration,this.hueVariance=t.hueVariance,this.partSpeed=t.partSpeed,this.partSpeedVariance=t.partSpeedVariance,this.partWind=t.partWind,this.partFriction=t.partFriction,this.partGravity=t.partGravity,this.particles=n}return a(e,[{key:"createParticles",value:function(e,t,n){for(var a=[],o=this.partCount;o>0;o-=1){var s=new r.default({x:e,y:t,hue:(0,i.random)(n-this.hueVariance,n+this.hueVariance),partSpeed:this.partSpeed,partSpeedVariance:this.partSpeedVariance,partWind:this.partWind,partFriction:this.partFriction,partGravity:this.partGravity,hueVariance:this.hueVariance,lineWidth:this.lineWidth},this.particles);a.push(s)}return a}},{key:"update",value:function(){var e=Math.cos(this.angle)*this.speed,t=Math.sin(this.angle)*this.speed;return this.speed*=1+this.acceleration,this.coordLast[2].x=this.coordLast[1].x,this.coordLast[2].y=this.coordLast[1].y,this.coordLast[1].x=this.coordLast[0].x,this.coordLast[1].y=this.coordLast[0].y,this.coordLast[0].x=this.x,this.coordLast[0].y=this.y,this.startX>=this.targetX?this.x+e<=this.targetX?(this.x=this.targetX,this.hitX=!0):this.x+=e:this.x+e>=this.targetX?(this.x=this.targetX,this.hitX=!0):this.x+=e,this.startY>=this.targetY?this.y+t<=this.targetY?(this.y=this.targetY,this.hitY=!0):this.y+=t:this.y+t>=this.targetY?(this.y=this.targetY,this.hitY=!0):this.y+=t,!(!this.hitX||!this.hitY)&&this.createParticles(this.targetX,this.targetY,this.hue)}},{key:"draw",value:function(e){e.globalCompositeOperation="lighter",e.lineWidth=this.lineWidth;var t=Math.round((0,i.random)(1,3)-1);e.beginPath(),e.moveTo(Math.round(this.coordLast[t].x),Math.round(this.coordLast[t].y)),e.lineTo(Math.round(this.x),Math.round(this.y)),e.closePath(),e.strokeStyle="white",e.stroke()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);var o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=new createjs.Bitmap(r.banner.images[i.default.shots.first.explosion.start]),o=new createjs.Bitmap(r.banner.images[i.default.shots.first.explosion.middle]),s=new createjs.Bitmap(r.banner.images[i.default.shots.first.explosion.end]),l=new createjs.Bitmap(r.banner.images[i.default.shots.first.explosion.smoke]),h=new createjs.Bitmap(r.banner.images[i.default.shots.first.explosion.trail]);h.setTransform(-9,15,1,1,-28,0,0,7,3),l.setTransform(0,15,.3,.3,13,0,0,27,107),a.setTransform(0,0,.1,.1,0,0,0,40,100),s.setTransform(-10,47,.1,.1,0,0,0,52,80),o.setTransform(-5,23,.1,.1,0,0,0,36,41),l.alpha=0,a.alpha=0,s.alpha=0,o.alpha=0,h.alpha=0,[l,s,o,a,h].forEach(function(e){return n.addChild(e)});for(var u=[s,o,a,h],c=0;c<u.length;c+=1)u[c].shadow=new createjs.Shadow("#ff8600",0,0,30);return n.shadow=new createjs.Shadow("#ff5600",0,0,30),n.timeLine=new TimelineMax({paused:!0}).timeScale(e),n.timeLine.add([(new TimelineMax).to(a,.5,{scaleX:1,scaleY:1,alpha:1}).to(a,.5,{scaleX:.8,scaleY:.8,alpha:0,delay:.15}),(new TimelineMax).to(h,1,{alpha:1,y:-80,x:162}).to(h,.5,{scaleX:.8,scaleY:.8,alpha:0,delay:.15}),(new TimelineMax).to(l,.5,{alpha:.7}).to(l,9.5,{x:l.x+30,y:l.y-40,scaleX:1.7,scaleY:1.7,alpha:0}),(new TimelineMax).to(o,.5,{scaleX:1,scaleY:1,x:17,y:-5,alpha:1,delay:.2}).to(o,.5,{scaleX:.8,scaleY:.8,alpha:0,delay:.15}),(new TimelineMax).to(s,.5,{scaleX:1,scaleY:1,y:-15,x:55,alpha:1,delay:.15}).to(s,.5,{scaleX:.8,scaleY:.8,alpha:0,delay:.25}).addPause(1.55)],0,"start"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"shoot",value:function(){this.timeLine.play(0)}}]),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.tweens=[],e.startReverse();for(var n=0;n<10;n+=1){var a=new createjs.Bitmap(r.banner.images[i.default.tracks.trackPart]);a.scaleY=0,a.regX=14,a.regY=7,e.addChild(a);var o=new TimelineMax({repeat:-1});o.to(a,2.5,{ease:Linear.easeNone,reversed:!0,bezier:{type:"quadratic",timeResolution:100,values:[{x:-10,y:-20},{x:-20,y:-8},{x:-21,y:0},{x:-16,y:15},{x:10,y:25}]}}).to(a,1,{ease:Linear.easeNone,scaleY:1},0).to(a,1.5,{ease:Linear.easeNone,scaleY:0,delay:1},0),o.time(.3*n),e.tweens.push(o)}return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"reverse",value:function(){this.tweens.forEach(function(e){e.paused()||e.reversed(!e.reversed())})}},{key:"startReverse",value:function(){var e=this;this.reverseFunc=setInterval(function(){e.reverse()},1e3)}},{key:"stop",value:function(){clearInterval(this.reverseFunc),this.tweens.forEach(function(e){e.paused(!0)})}},{key:"start",value:function(){this.startReverse(),this.tweens.forEach(function(e,t){e.reversed(!0),e.play(.3*t)})}}]),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(0)),r=s(n(15)),o=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setupFirstWheel(),e.setupMiddleWheels(),e.setupLastWheel(),e.setupTracks(),e.tracksRotatingTimeline=new TimelineMax({repeat:-1,yoyo:!0}),e.tweens=[e.lastWheel,e.firstTrack].concat(e.middleWheels),e.tracksRotatingTimeline.add(e.tweens.map(function(e){return TweenMax.to(e,1,{rotation:35+e.rotation,ease:Power1.easeInOut})}),0),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"pause",value:function(){this.tracksRotatingTimeline.paused(!0),this.rightTracks.stop(),this.leftTracks.stop()}},{key:"start",value:function(){this.tracksRotatingTimeline.play(0),this.rightTracks.start(),this.leftTracks.start()}},{key:"setupTracks",value:function(){this.rightTracks=new r.default(15),this.leftTracks=new r.default(15),this.leftTracks.x=-53,this.leftTracks.y=6,this.leftTracks.scaleY=.76,this.leftTracks.scaleX=.9,this.addChild(this.rightTracks),this.addChild(this.leftTracks)}},{key:"setupFirstWheel",value:function(){this.firstTrack=new createjs.Bitmap(o.banner.images[i.default.tracks.first]),this.firstTrack.x=197,this.firstTrack.y=-1.5,this.firstTrack.regX=11,this.firstTrack.regY=11,this.addChild(this.firstTrack)}},{key:"setupLastWheel",value:function(){this.lastWheel=new createjs.Bitmap(o.banner.images[i.default.tracks.last]),this.lastWheel.regX=19,this.lastWheel.regY=19,this.addChild(this.lastWheel)}},{key:"setupMiddleWheels",value:function(){var e=this;this.middleWheels=[],Array.from(Array(5)).forEach(function(){return e.middleWheels.push(new createjs.Bitmap(o.banner.images[i.default.tracks.middle]))});for(var t=0;t<this.middleWheels.length;t+=1)this.middleWheels[t].y=5,this.middleWheels[t].x=34*t-.07*t+40,this.middleWheels[t].regX=21,this.middleWheels[t].regY=21,this.middleWheels[t].rotation=50*t,this.middleWheels[t].scaleX=1-.035*t,this.middleWheels[t].scaleY=1-.035*t;this.middleWheels.reverse().forEach(function(t){return e.addChild(t)})}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=l(n(0)),r=l(n(3)),o=l(n(16)),s=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timeline=new TimelineMax({repeat:-1,yoyo:!0}),e.setupTank(),e.setupTankLight(),e.setupMovingParts(),e.setupSmokesFromTurbines(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"setupMovingParts",value:function(){var e;this.movingTankParts=new o.default,this.movingTankParts.skewX=5,this.movingTankParts.skewY=4.55,this.movingTankParts.scaleY=1.05,this.movingTankParts.scaleX=.91,this.movingTankParts.x=80,this.movingTankParts.y=66,this.addChild(this.movingTankParts),(e=this.timeline).add.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(TweenMax.getAllTweens(this.movingTankParts.tracksRotatingTimeline)))}},{key:"stopAnimation",value:function(){this.timeline.paused(!0),this.movingTankParts.pause()}},{key:"startAnimation",value:function(){this.timeline.play(0),this.movingTankParts.start()}},{key:"setupTank",value:function(){this.gun=new createjs.Bitmap(s.banner.images[i.default.shots.first.tankGun]),this.gun.x=201,this.gun.y=8,this.addChild(this.gun),this.tank=new createjs.Bitmap(s.banner.images[i.default.shots.first.tank]),this.addChild(this.tank)}},{key:"setupTankLight",value:function(){this.tankLight=new createjs.Bitmap(s.banner.images[i.default.shots.first.tankLight]),this.tankLight.x=10,this.tankLight.alpha=0,this.tankLight.compositeOperation="screen",this.addChild(this.tankLight)}},{key:"blink",value:function(e){var t=(new createjs.ColorMatrix).adjustHue(e);this.tankLight.filters=[new createjs.ColorMatrixFilter(t)],this.tankLight.cache(0,0,262,102),(new TimelineMax).to(this.tankLight,.1,{alpha:.75}).to(this.tankLight,.3,{alpha:0})}},{key:"animateGun",value:function(){TweenMax.to(this.gun,.1,{x:this.gun.x-6,y:this.gun.y+3,repeat:1,yoyo:!0})}},{key:"setupSmokesFromTurbines",value:function(){this.smokeFromTurbineRight=new r.default(2,!0),this.smokeFromTurbineRight.y=35,this.smokeFromTurbineRight.x=55,this.smokeFromTurbineRight.rotation=-55,this.smokeFromTurbineRight.scale=.8,this.addChild(this.smokeFromTurbineRight),this.smokeFromTurbineLeft=new r.default(3,!0),this.smokeFromTurbineLeft.y=35,this.smokeFromTurbineLeft.x=37,this.smokeFromTurbineLeft.rotation=-55,this.smokeFromTurbineLeft.scale=.6,this.addChild(this.smokeFromTurbineLeft)}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=u(n(17)),r=u(n(0)),o=u(n(3)),s=u(n(14)),l=(u(n(5)),n(2)),h=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timeline=new TimelineMax({loop:!0,yoyo:!0}),e.background=new createjs.Bitmap(r.default.shots.first.backgroud),e.background.x=-120,e.background.y=-120,e.addChild(e.background),e.fireworksCanvas=new createjs.Bitmap(h.fireworks.canvas),e.fireworksCanvas.x=120,e.fireworksCanvas.y=-120,e.addChild(e.fireworksCanvas),e.blacked=new createjs.Shape,e.blacked.graphics.beginFill("black").drawRect(-300,-300,1e3,1e3),e.blacked.alpha=1,e.setupScene(),e.setupExplosion(),e.addChild(e.blacked),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,createjs.Container),a(t,[{key:"show",value:function(){TweenMax.to(this.blacked,1,{alpha:0})}},{key:"hide",value:function(){return TweenMax.to(this.blacked,1,{alpha:1})}},{key:"draw",value:function(e){(function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e)}},{key:"setupScene",value:function(){this.hill=new createjs.Bitmap(h.banner.images[r.default.shots.first.hill]),this.hillLight=new createjs.Bitmap(h.banner.images[r.default.shots.first.explosion.hillLight]),this.treeLeft=new createjs.Bitmap(h.banner.images[r.default.shots.first.treeLeft]),this.treeRight=new createjs.Bitmap(h.banner.images[r.default.shots.first.treeRight]),this.firework=h.fireworks.fireworks;var e=new o.default(.2);e.y=170,e.x=300,e.scaleX=2.5,e.scaleY=2.5,e.alpha=1,this.addChild(e);var t=new o.default(.2);t.y=200,t.x=450,t.scaleX=2.5,t.scaleY=2.5,t.alpha=.5,this.addChild(t),this.tank=new i.default,this.addChild(this.tank),this.tank.y=100,this.tank.rotation=-.1;var n=TweenMax.to(this.tank,1,{x:this.tank.x+30,y:this.tank.y+6,rotation:.1,scale:.96,ease:Power1.easeInOut});this.tank.timeline.add(n);var a=new o.default(.5);a.y=210,a.x=190,this.addChild(a);var s=new o.default(.2);s.y=210,s.x=300,s.scaleX=2,s.scaleY=2,s.alpha=.5,this.addChild(s);var l=new o.default(.4);l.y=210,l.x=230,l.scaleX=-.5,l.scaleY=.5,this.addChild(l),this.addChild(this.hill),this.hill.y=140,this.hill.x=-100,this.addChild(this.hillLight),this.hillLight.y=144,this.hillLight.x=4,this.hillLight.alpha=0,this.hillLight.compositeOperation="screen",this.addChild(this.treeLeft),this.treeLeft.y=250,this.addChild(this.treeRight),this.treeRight.y=230,this.treeRight.x=100}},{key:"setupExplosion",value:function(){this.explosion=new s.default,this.explosion.x=245,this.explosion.y=-8,this.tank.addChild(this.explosion)}},{key:"expodeFireworks",value:function(e){for(var t=this,n=0;n<e;n+=1)setTimeout(function(){var e=(0,l.random)(0,360);t.firework.createFirework((0,l.random)(100,150),(0,l.random)(200,300),(0,l.random)(150,300),(0,l.random)(50,150),e),t.tank.blink(e)},300+500*n+(0,l.random)(0,250))}},{key:"restart",value:function(){var e=this;console.log("restart"),this.blacked.alpha=1,h.banner.packShot.hide(),this.hide().eventCallback("onComplete",function(){e.x+=170,e.y-=100,e.show(),h.banner.restart()}),this.tank.startAnimation()}},{key:"shoot",value:function(){var e=this;this.tank.stopAnimation();(new TimelineMax).to(this,.5,{x:this.x-34,y:this.y+20}).call(function(){return e.explosion.shoot(),e.tank.animateGun(),(new TimelineMax).to(e.hillLight,.2,{alpha:1}).to(e.hillLight,.2,{alpha:0}).call(function(){return e.expodeFireworks(9)}),e.tank.blink(0),void(new TimelineMax).to(e.tank,.1,{x:e.tank.x-=1,y:e.tank.y+=1}).to(e.tank,.1,{x:e.tank.x+=1,y:e.tank.y-=1})},null,this,.5).to(this,.1,{y:this.y+30,ease:Power1.easeInOut}).to(this,.1,{y:this.y+20,ease:Power2.easeInOut}).to(this,2,{x:this.x-170,y:this.y+100,ease:Power2.easeInOut}).addPause("+=4",function(){return h.banner.toPackShot()}),TweenMax.delayedCall(18,function(){return e.restart()})}}]),t}();t.default=c}]);